<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Swiper demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

  <!-- Demo styles -->
  <style>
    html,
    body {
      position: relative;
      height: 100%;
    }

    body {
      background: #000;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color: #000;
      margin: 0;
      padding: 0;
    }

    .swiper-container {
      width: 944px;
      height: auto;
      margin-left: auto;
      margin-right: auto;
    }

    /* .swiper-slide div {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: transparent;
    } */
    .swiper-slide img {
      width: 100%;
      height: auto;
    }

    .gallery-top {
      height: 80%;
      width: 944px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .gallery-thumbs {
      height: 20%;
      box-sizing: border-box;
      padding: 10px 0;
    }

    iframe {
      width: 100%;
      height: 100%;
    }

    .gallery-thumbs .swiper-slide {
      width: 25%;
      height: 100%;
      opacity: 0.4;
    }

    .gallery-thumbs .swiper-slide-thumb-active {
      opacity: 1;
    }
  </style>
</head>

<body>
  <!-- Swiper -->
  <div class="swiper-container gallery-top">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/ms4cWMsOITs" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/opSENgc45Sw" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/lz0wZiuXCoQ" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/zIh1S7ra3aI" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/Ewhfok91AdE" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/QgbLb6QCK88" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/pf830yZf0x0" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/uqVx22lo9_4" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/SyV4xez9Lp0" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>
      <div class="swiper-slide"><iframe class="iframe" width="944" height="541"
          src="https://www.youtube.com/embed/QgbLb6QCK88" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe></div>

    </div>
    <!-- Add Arrows -->
    <!-- <div class="swiper-button-next swiper-button-white"></div>
    <div class="swiper-button-prev swiper-button-white"></div> -->
  </div>
  <div class="swiper-container gallery-thumbs gallery-thumbs--js">
    <div class="swiper-wrapper">

      <div class="swiper-slide"><img src="https://img.youtube.com/vi/ms4cWMsOITs/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/opSENgc45Sw/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/lz0wZiuXCoQ/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/zIh1S7ra3aI/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/Ewhfok91AdE/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/QgbLb6QCK88/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/pf830yZf0x0/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/uqVx22lo9_4/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/SyV4xez9Lp0/hqdefault.jpg" class="video"></div>
      <div class="swiper-slide"><img src="https://img.youtube.com/vi/QgbLb6QCK88/hqdefault.jpg" class="video"></div>

    </div>

    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- Initialize Swiper -->
    <script>
      var galleryThumbs = new Swiper('.gallery-thumbs', {
        spaceBetween: 10,
        slidesPerView: 5,
        freeMode: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
      });
      var galleryTop = new Swiper('.gallery-top', {
        spaceBetween: 10,
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        thumbs: {
          swiper: galleryThumbs
        }
      });
    </script>
    <script>
      var gallery = document.querySelector(".gallery-thumbs--js");
      // var active = gallery.querySelector(".swiper-slide-thumb-active");
      var iframe = document.querySelector(".iframe");
      var allIframes = document.getElementsByTagName("iframe");
      var iframesArray = Array.from(allIframes);
    

      function elemHasParent(elem, needle) {
        while (elem != null) {
          elem = elem.parentNode;
          if (elem == needle)
            return true;
        }
        return false;
      }


      function stopVideo(evt) {
        var target = evt.target;
        if (elemHasParent(target, gallery)) {
          console.log("opening map");
          evt.preventDefault();
          for (let i = 0; i < iframesArray.length; i += 1) {
            
            iframesArray[i].src = iframesArray[i].src;
            gallery.removeEventListener("click", stopVideo);
          }  
          gallery.addEventListener("click", stopVideo);
        }
      }
      gallery.addEventListener("click", stopVideo);
    </script>
</body>

</html>